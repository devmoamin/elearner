<!-- Sticky Navigation Bar -->
<header class="sticky top-0 bg-white shadow-lg z-10">
    <div class="px-4 py-4 flex items-center justify-between">
        <a href="/" class="text-2xl font-semibold text-indigo-600 hover:text-indigo-500 transition duration-300">
            <h1>E-Learner</h1>
        </a>

        <!-- Search Bar -->
        <div class="w-full lg:w-1/3 relative hidden md:block">
            <form action='{% url 'courses' %}' method='GET'>
                <input id='courseSearch' type="text" value='{{ search_q }}' name='q' placeholder="Search for courses..." class="w-full px-6 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 transition duration-300 ease-in-out transform hover:scale-105">
                <button type='submit' class="absolute right-4 top-2 text-gray-500 hover:text-indigo-600 transition duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M18.5 10a7.5 7.5 0 10-15 0 7.5 7.5 0 0015 0z"></path>
                    </svg>
                </button>
            </form>
        </div>
        
        <nav class="space-x-6 flex items-center">
            <a href="{% url 'courses' %}" class="text-gray-700 hover:text-indigo-600 transition duration-300">Courses</a>
            
            <!-- Login and Signup Buttons -->
            <div class="flex items-center space-x-4 ml-6">
                {% if request.user.is_authenticated %}
                    <!-- User Dropdown -->
                    <div class="relative">
                        <button id="userDropdownButton" class="flex items-center space-x-2 hover:text-indigo-600 transition">
                            <span class="font-semibold">{{ request.user.username }}</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <!-- Dropdown Menu -->
                        <div id="userDropdownMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg text-gray-800">
                            <a href="{% url 'profile' %}" class="rounded-t-lg block px-4 py-2 text-left w-full hover:bg-indigo-600 hover:text-white transition">Profile</a>
                            <a href="{% url 'password_change' %}" class="block px-4 py-2 text-left w-full hover:bg-indigo-600 hover:text-white transition">Change Password</a>
                            
                            <form action="{% url 'logout' %}" method="post" class='inline'>
                                {% csrf_token %}
                                <button type='submit' class="text-left rounded-b-lg w-full block px-4 py-2 hover:bg-indigo-600 hover:text-white transition">Logout</button>
                            </form>
                        </div>
                    </div>
                {% else %}
                    <a href="{% url 'login' %}" class="px-6 py-2 text-indigo-600 bg-white border border-indigo-600 rounded-full hover:bg-indigo-600 hover:text-white transition duration-300">Login</a>
                    <a href="{% url 'signup' %}" class="px-6 py-2 text-white bg-indigo-600 border border-indigo-600 rounded-full hover:bg-indigo-700 hover:border-indigo-700 transition duration-300">Sign Up</a>
                {% endif %}
            </div>
        </nav>
    </div>
</header>
